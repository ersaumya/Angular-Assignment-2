<div class="card">
  <form [formGroup]="formRegister" (ngSubmit)="onSubmit()">
    <div class="card-body">
      <h5 class="card-title text-center">Patient Registration</h5>
      <hr />
      <div class="row justify-content-between">
        <div class="form-group row col-md-6">
          <label for="inputName" class="col-sm-4 col-form-label">Name</label>
          <div class="col-sm-8">
            <input
              type="text"
              formControlName="name"
              class="form-control"
              id="inputName"
              required
              placeholder="Name"
              [ngClass]="{ 'is-invalid': (formRegister.get('name').touched || formRegister.get('name').dirty) && !formRegister.get('name').valid }"/>
            <span class="invalid-feedback">
              <span *ngIf="name.errors?.required">Name is required.</span>
              <span *ngIf="name.errors?.pattern">
                Only alphabets are allowed.
              </span>
            </span>
          </div>
        </div>
        <div class="form-group row col-md-6">
          <label for="inputSurName" class="col-sm-4 col-form-label">SurName</label>
          <div class="col-sm-8">
            <input
              type="text"
              formControlName="surName"
              class="form-control"
              id="inputSurName"
              required
              placeholder="SurName"
              [ngClass]="{ 'is-invalid': (formRegister.get('surName').touched || formRegister.get('surName').dirty) && !formRegister.get('surName').valid }"/>
              <span class="invalid-feedback">
                <span *ngIf="surName.errors?.required">Sur Name is required.</span>
                <span *ngIf="surName.errors?.pattern">
                  Only alphabets are allowed.
                </span>
              </span>
          </div>
        </div>
      </div>
      <div class="row justify-content-between">
        <div class="form-group row col-md-6">
          <label for="inputBirthDate" class="col-sm-4 col-form-label">BirthDate</label>
          <div class="col-sm-8">
            <input
              type="date"
              formControlName="dob"
              class="form-control"
              id="inputBirthDate"
              placeholder="BirthDate" [max]="getToday()"/>
          </div>
        </div>
        <div class="form-group row col-md-6">
          <label for="inputGender" class="col-sm-4 col-form-label"
            >Gender</label
          >
          <div class="col-sm-8">
            <select
              class="form-control"
              formControlName="gender"
              id="inputGender">
              <option value="">--Select--</option>
              <option>Male</option>
              <option>Female</option>
            </select>
          </div>
        </div>
      </div>
      <div class="row justify-content-between">
        <div class="form-group row col-md-6">
          <label for="inputState" class="col-sm-4 col-form-label">State</label>
          <div class="col-sm-8">
            <select
              class="form-control"
              formControlName="state"
              id="inputState"
              (change)="onChangeState($event.target.value)"
            >
              <option value="">--Select--</option>
              <option *ngFor="let state of states" value="{{ state.id }}">
                {{ state.name }}
              </option>
            </select>
          </div>
        </div>
        <div class="form-group row col-md-6">
          <label for="inputCity" class="col-sm-4 col-form-label">City</label>
          <div class="col-sm-8">
            <select class="form-control" formControlName="city" id="inputCity">
              <option value="">--Select--</option>
              <option *ngFor="let city of cities" value="{{ city.id }}">
                {{ city.name }}
              </option>
            </select>
          </div>
        </div>
      </div>
      <div class="row justify-content-">
          <button class="btn btn-success mb-2" type="submit">Save</button>
      </div>
    </div>
  </form>
  <app-register-detail [registerDataList]="registerList"></app-register-detail>
</div>
